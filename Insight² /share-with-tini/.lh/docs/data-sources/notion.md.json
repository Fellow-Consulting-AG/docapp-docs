{
    "sourceFile": "docs/data-sources/notion.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1656582811793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1656582811793,
            "name": "Commit-0",
            "content": "---\nid: notion\ntitle: Notion\n---\n# Notion\n\nInsight can connect to a Notion workspace to do operations on notion pages, databases and blocks.\n## Connection\n\nFor integrating Notion with Insight we will need the API token. The API token can be generated from your Notion workspace settings. Read the official Notion docs for [Creating an internal integration with notion API](https://www.notion.so/help/create-integrations-with-the-notion-api).\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Notion](/img/datasource-reference/notion/api.png)\n\n</div>\n\n## Querying Notion\n\nNotion API provides support for:\n- **[Database](#database)**\n- **[Page](#page)**\n- **[Block](#blocks)**\n- **[User](#user)**\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Notion](/img/datasource-reference/notion/querying.png)\n\n</div>\n\n:::tip\n\nBefore querying Notion, you must share the database with your integration. Click the share button in your database view, find your integration name select it.\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Notion](/img/datasource-reference/notion/share.png)\n\n</div>\n\n:::\n\n### Database\n\nOn database resource you can perform the following operations:\n- **[Retrieve a database](#1-retrieve-a-database)**\n- **[Query a database](#2-query-a-database)**\n- **[Create a database](#3-create-a-database)**\n- **[Update a database](#4-update-a-database)**\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Notion](/img/datasource-reference/notion/db_q.png)\n\n</div>\n\n#### 1. Retrieve a database\n\nThis operations retreives a Database object using the ID specified.\n\n##### Required parameters:\n\n- **Database ID**: You'll find the Database ID in the url. Suppose this is the example url: `https://www.notion.so/workspace/XXX?v=YYY&p=ZZZ` then `XXX` is the database ID, `YYY` is the view ID and `ZZZ` is the page ID.\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Notion](/img/datasource-reference/notion/db_retrieve.png)\n\n</div>\n\n#### 2. Query a database\n\nThis operation gets a list of **Pages** contained in the database, filtered and ordered according to the filter conditions and sort criteria provided in the query.\n##### Required parameters:\n\n- **Database ID** : You'll find the Database ID in the url. Suppose this is the example url: `https://www.notion.so/workspace/XXX?v=YYY&p=ZZZ` then `XXX` is the database ID, `YYY` is the view ID and `ZZZ` is the page ID.\n\n##### Optional parameters:\n\n- **Filter** : This must be an object of filters\n- **Sort** : Array of sort objects\n- **Limit** : limit for pagination\n- **Start Cursor** : Next object id to continue pagination\n\n#### 3. Create a database\n\nThis opertion creates a database as a subpage in the specified parent page, with the specified properties.\n\n##### Required parameters:\n\n- **Database ID** : You'll find the Database ID in the url. Suppose this is the example url: `https://www.notion.so/workspace/XXX?v=YYY&p=ZZZ` then `XXX` is the database ID, `YYY` is the view ID and `ZZZ` is the page ID.\n- **Page ID** : Page ID of the parent\n- **Properties** : Properties defines the columns in a database\n\n##### Optional parameters:\n\n- **Title** : Title should be an array of rich_text properties\n- **Icon type** : Currently notion api accepts two icon options, emoji, external URL\n- **Icon value** : Value of selected icon type\n- **Icon type** : Currently notion api accepts only external URL\n- **Cover value** : Value of selected cover type\n\n#### 4. Update a database\n\nThis operation updates an existing database as specified by the parameters.\n\n##### Required parameters:\n- **Database ID**\n\n##### Optional parameters:\n\n- **Title** : Title should be an array of rich_text properties\n- **Properties** : Properties defines the columns in a database\n- **Icon type** : Currently notion api accepts two icon options, emoji, external URL\n- **Icon value** : Value of selected icon type\n- **Icon type** : Currently notion api accepts only external URL\n- **Cover value** : Value of selected cover type\n\n### Page\n\nOn page resource you can perform the following operations:\n- **[Retrieve a page](#1-retrieve-a-page)**\n- **[Create a page](#2-create-a-page)**\n- **[Update a page](#3-update-a-page)**\n- **[Retrieve a page property](#4-retrieve-a-page-property-item)**\n- **[Archive a page](#5-archive-delete-a-page)**\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Notion](/img/datasource-reference/notion/page_q.png)\n\n</div>\n\n#### 1. Retrieve a page\nThis operation retrieves a **Page** object using the ID specified.\n##### Required parameters:\n- **Page ID**\n\n#### 2. Create a page\nThis operation creates a new page in the specified database or as a child of an existing page. If the parent is a database, the property values of the new page in the properties parameter must conform to the parent database's property schema. If the parent is a page, the only valid property is title.\n##### Parameters:\n- **Page ID**\n- **Properties** : Property values of this page\n- **Icon type** : Currently notion api accepts two icon options, emoji, external URL\n- **Icon value**: Value of selected icon type\n- **Icon type** : Currently notion api accepts only external URL\n- **Cover value** : Value of selected cover type\n\n#### 3. Update a page\nThis operation updates page property values for the specified page. Properties that are not set via the properties parameter will remain unchanged.\n##### Parameters:\n- **Page ID**\n- **Parent type**: A database parent or page parent\n- **Properties** : Property values of this page\n- **Children** : Page content for the new page as an array of block objects\n- **Icon type** : Currently notion api accepts two icon options, emoji, external URL\n- **Icon value**: Value of selected icon type\n- **Icon type** : Currently notion api accepts only external URL\n- **Cover value** : Value of selected cover type\n\n#### 4. Retrieve a page property item\nThis operation retrieves a property_item object for a given page ID and property ID. Depending on the property type, the object returned will either be a value or a paginated list of property item values. See Property item objects for specifics.\n##### Parameters:\n- **Page ID**\n- **Property ID**\n- **Limit**\n- **Start cursor**\n\n#### 5. Archive (delete) a page\n##### Required parameters:\n- **Page ID**\n- **Archive**: Dropdown for archive and un archive the page\n\n### Blocks\nThe following operations can be performed on the block resource:\n- **[Retrieve a block](#1-retrieve-a-block)**\n- **[Append block children](#2-append-new-block-children)**\n- **[Retrieve block children](#3-retrieve-block-children)**\n- **[Update a block](#4-update-a-block)**\n- **[Delete a block](#5-delete-a-block)**\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Notion](/img/datasource-reference/notion/block_q.png)\n\n</div>\n\n:::info\nTo get the id for blocks, simply click on the menu icon for the block and click \"Copy link\". Afterwards, paste the link in the browser and it should look like this: `https://www.notion.so/Creating-Page-Sample-ee18b8779ae54f358b09221d6665ee15#7fcb3940a1264aadb2ad4ee9ffe11b0e` the string after **#** is the block id i.e. `7fcb3940a1264aadb2ad4ee9ffe11b0e`.\n:::\n\n#### 1. Retrieve a block\nThis operation retrieves a **Block** object using the ID specified.\n\n##### Required parameters:\n- **Block ID**\n\n#### 2. Append new block children\nThis operation creates and appends new children blocks to the parent block_id specified.\n\n##### Required parameters:\n- **Block ID**\n- **Children**: Array of block objects\n\n#### 3. Retrieve block children\nThis operation retrieves a paginated array of child block objects contained in the block using the ID specified.\n\n##### Required parameters:\n- **Block ID**\n- **Limit**\n- **Start cursor**\n\n#### 4. Update a block\nThis operation updates the content for the specified block_id based on the block type.\n\n##### Required parameters:\n- **Block ID**\n- **Properties**: The block object type value with the properties to be updated\n- **Archive**\n\n#### 5. Delete a block\n##### Required parameters:\n- **Block ID**\n\n### User\nThe following operations can be performed on the user notion resource:\n\n#### 1. Retrieve a user from current workspace\nThis operation retrieves a User using the ID specified.\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Notion](/img/datasource-reference/notion/user_q.png)\n\n</div>\n\n##### Required parameters:\n- **User ID**\n\n#### 2. Retrieve list of users of a workspace\n\nThis operation returns a paginated list of Users for the workspace.\n\n##### Required parameters:\n- **Limit**\n- **Start cursor**\n\n[Read more about notion API](https://developers.notion.com/reference/intro)\n"
        }
    ]
}