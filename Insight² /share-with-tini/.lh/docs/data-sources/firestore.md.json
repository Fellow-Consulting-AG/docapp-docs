{
    "sourceFile": "docs/data-sources/firestore.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1656582811794,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1656582811794,
            "name": "Commit-0",
            "content": "---\nid: firestore\ntitle: Cloud Firestore\n---\n\n# Cloud Firestore\n\n## Connection \nInsight connects to your Cloud Firestore using JSON key of your GCP service account.\nTo generate a new key, check out [Firestore's official documentation](https://cloud.google.com/iam/docs/creating-managing-service-account-keys#iam-service-account-keys-create-console).\n\nOnce the key is downloaded, click on `+` button of data sources panel at the left-bottom corner of the app editor. Select Firestore from the modal that pops up. Paste the key in the field for GCP key. Click on **Test connection** button to verify if the service account can access Firestore from Insight server. Click on **Save** button to save the datasource.\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/add-ds-firestore.gif)\n\n</div>\n\n## Querying Firestore \n\nClick on `+` button of the query manager at the bottom panel of the editor and select the database added in the previous step as the data source.\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/firestore-query.png)\n\n</div>\n\nSelect the operation that you want to perform on Firestore and click **Save** to save the query. \n\n:::tip\nQuery results can be transformed using transformations. Read our transformations documentation to see how: **[link](/docs/tutorial/transformations)**\n:::\n\n## Supported operations\n1. [Get document](#get-document)\n2. [Query collection](#query-collection)\n3. [Add Document to Collection](#add-document-to-collection) \n4. [Update document](#update-document) \n5. [Set document](#set-document)\n6. [Bulk update using document id](#bulk-update-using-document-id)\n7. [Delete document](#delete-document)\n\n### Get document\n\nUse this operation to get the data in a document.\n\n#### Required parameters:\n\n- **Path**: Enter the path of the document. Path format: `collection name/document id`. ex: `books/23e2wsds32`\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/get.png)\n\n</div>\n\n### Query collection\n\nUse this operation to query all the documents in a collection. Check firestore doc [here](https://firebase.google.com/docs/reference/js/v8/firebase.database.Query).\n\n#### Required parameters:\n\n- **Path**: Enter the name of the collection to be queried. Example: `books`\n\n#### Optional parameters:\n\n- **Order type**: Select ascending or descending from the dropdown.\n\n- **Limit**: Maximum number of documents to return in response. By default will return maximum 25 results. Maximum of 100 results allowed per request. The Limit value should be of integer type.\n\n- **Field, Operator, and Value**: For filtering the results, you can enter a document field name, use appropriate operator from the dropdown and set a value.\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/query-collection.png)\n\n</div>\n\n### Add Document to Collection\n\nUse this operation for creating a new document in a collection.\n\n#### Required parameters:\n\n- **Collection**: Enter the path of the document in a collection. Path format: `collection name/document id`. ex: `books/33243dwe2332`\n- **Body**: Enter the Field names and their values in json form. example body:\n```json\n{\n\"Author\": \"Shubh\",\n\"id\": 5\n}\n```\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/add-document.png)\n\n</div>\n\n### Update document\n\nUse this operation for updating the existing document in a collection. Also, it only updates fields if they exist, but doesn't replace an entire object like [set opertion](#set-document).\n\n#### Required parameters:\n\n- **Path**: Enter the path of the document in a collection. Path format: `collection name/document id`. ex: `books/33243dwe2332`\n- **Body**: Enter the Field names and their values in json form. example body:\n```json\n{\n\"Author\": \"Shubhendra\",\n\"id\": 3\n}\n```\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/update.png)\n\n</div>\n\n### Set document\n\nThis operation replaces your chosen object with the value that you provide. So if your object has 5 fields, and you use Set operation and pass object with 3 fields, it will now have 3 fields.\n\n#### Required parameters:\n\n- **Path**: Enter the path of the document in a collection. Path format: `collection name/document id`. ex: `books/33243dwe2332`\n- **Body**: Enter the Field names and their values in json form. example body:\n```json\n{\n\"Author\": \"Shefewfbh\",\n\"id\": 9\n}\n```\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/set.png)\n\n</div>\n\n### Bulk update using document id\n\nUse this operation for bulk updating documents.\n\n#### Required parameters:\n\n- **Collection**: \n- **Key for document ID**: \n- **Records**:\n\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/bulk.png)\n\n</div>\n\n### Delete document\n\nUse this operation for deleting a document in a collection.\n\n#### Required parameters:\n\n- **Path**: Enter the path of the document to be deleted in a collection. Path format: `collection name/document id`. ex: `books/33243dwe2332`\n\n<div style={{textAlign: 'center'}}>\n\n![Insight - Data source - Firestore](/img/datasource-reference/firestore/delete.png)\n\n</div>\n\n## Transforming firestore query result for Table widget\n\nThe Firestore query result is in the form of object so weâ€™ll need to transform it into array.\n\n```js\nreturn data = Array(data)\n```"
        }
    ]
}